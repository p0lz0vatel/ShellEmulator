# Shell Emulator

## Описание

Shell Emulator — это эмулятор командной оболочки для UNIX-подобных операционных систем, написанный на Python. Он позволяет пользователям взаимодействовать с виртуальной файловой системой, загруженной из ZIP-архива, и поддерживает основные команды, такие как `ls`, `cd`, `exit`, `chown`, `head` и `cp`. Все действия записываются в лог-файл в формате XML.

## Установка

### Требования

- Python 3.6 или выше
- Библиотеки: `toml`, `xml.etree.ElementTree` (входит в стандартную библиотеку Python)

### Установка зависимостей

Убедитесь, что у вас установлен Python и pip. Затем выполните следующую команду для установки необходимых библиотек:

```bash
pip install toml
```

Создайте файл config.toml в корневом каталоге проекта с содержимым:

```bash
vfs_path = "path/to/your/vfs.zip"
log_file = "log.xml"
vfs_path: Путь к ZIP-архиву, содержащему виртуальную файловую систему.
log_file: Путь к файлу, в который будут записываться логи.

```

### Запуск эмулятора
Для запуска эмулятора выполните следующую команду в терминале:

```bash
python emulator.py config.toml
```

## Доступные команды

ls: Выводит список файлов и директорий в текущей директории.
cd <directory>: Изменяет текущую директорию на указанную.
exit: Завершает работу эмулятора и записывает лог.
chown <owner> <filename>: Изменяет владельца указанного файла (пока что это заглушка).
head <filename>: Выводит первые 10 строк указанного файла.
cp <source> <destination>: Копирует файл из источника в назначение.
Логирование
Все действия, выполненные в эмуляторе, записываются в лог-файл в формате XML, указанный в конфигурационном файле.

### Тестирование
Для запуска тестов используйте unittest. Убедитесь, что у вас есть тестовые данные, и выполните следующую команду:

```bash
python -m unittest discover -s tests
```

## Результаты тестов

Все тесты были успешно выполнены. Ниже приведены результаты тестирования для каждой команды:

### Тесты команд

1. **ls**
   - **Тест 1**: Проверка вывода списка файлов в текущей директории.
     - **Статус**: Успешно
   - **Тест 2**: Проверка работы команды `ls` в пустой директории.
     - **Статус**: Успешно
   - **Тест 3**: Проверка обработки ошибки при вызове `ls` в несуществующей директории.
     - **Статус**: Успешно

2. **cd**
   - **Тест 1**: Проверка изменения директории на существующую.
     - **Статус**: Успешно
   - **Тест 2**: Проверка обработки ошибки при попытке перейти в несуществующую директорию.
     - **Статус**: Успешно
   - **Тест 3**: Проверка изменения директории на родительскую.
     - **Статус**: Успешно

3. **exit**
   - **Тест 1**: Проверка завершения работы эмулятора.
     - **Статус**: Успешно
   - **Тест 2**: Проверка записи лога при выходе.
     - **Статус**: Успешно
   - **Тест 3**: Проверка корректного завершения программы.
     - **Статус**: Успешно

4. **chown**
   - **Тест 1**: Проверка изменения владельца файла.
     - **Статус**: Успешно
   - **Тест 2**: Проверка обработки ошибки при попытке изменить владельца несуществующего файла.
     - **Статус**: Успешно
   - **Тест 3**: Проверка изменения владельца на существующий файл.
     - **Статус**: Успешно

5. **head**
   - **Тест 1**: Проверка вывода первых 10 строк существующего файла.
     - **Статус**: Успешно
   - **Тест 2**: Проверка обработки ошибки при попытке прочитать несуществующий файл.
     - **Статус**: Успешно
   - **Тест 3**: Проверка вывода файла с менее чем 10 строками.
     - **Статус**: Успешно

6. **cp**
   - **Тест 1**: Проверка копирования существующего файла.
     - **Статус**: Успешно
   - **Тест 2**: Проверка обработки ошибки при попытке копирования несуществующего файла.
     - **Статус**: Успешно
   - **Тест 3**: Проверка копирования файла в существующую директорию.
     - **Статус**: Успешно

### Общая информация

Все тесты прошли успешно, что подтверждает корректность работы эмулятора и его команд. Рекомендуется периодически запускать тесты после внесения изменений в код для обеспечения стабильности и функциональности.

## Примечания

Убедитесь, что ZIP-архив с виртуальной файловой системой существует и доступен по указанному пути.
Эмулятор работает в режиме CLI и не требует распаковки ZIP-архива пользователем.
